<!--
	Copyright Myles Trevino
	Licensed under the Apache License, Version 2.0
	http://www.apache.org/licenses/LICENSE-2.0
-->


<!-- Loading overlay. -->
<div *ngIf="tab === 'None'" class="overlay">
	<ion-spinner name="crescent"></ion-spinner>
</div>


<!-- Tile. -->
<div *ngIf="tab !== 'None'" id="app-tile" class="tile" @delayedFadeInAnimation>

	<!-- Tabs. -->
	<div id="app-tabs">
		<h4 [ngClass]="{selected: tab === 'Vault'}" (click)="setPage(0)">Vault</h4>
		<h4 [ngClass]="{selected: tab === 'Generator'}" (click)="setPage(1)">Generator</h4>
		<h4 [ngClass]="{selected: tab === 'Options'}" (click)="setPage(2)">Options</h4>
	</div>

	<!-- Pages. -->
	<swiper class="tile-content" [allowTouchMove]="enableSwiping" [slidesPerView]="3" effect="fade" (slideChange)="pageChangeCallback()" #swiper>

		<!-- Vault. -->
		<ng-template swiperSlide>
			<router-outlet name="vault"></router-outlet>
		</ng-template>

		<!-- Generator. -->
		<ng-template swiperSlide>
			<hyperpass-generator></hyperpass-generator>
		</ng-template>

		<!-- Options. -->
		<ng-template swiperSlide>
			<router-outlet name="options"></router-outlet>
		</ng-template>

	</swiper>

</div>


<!-- Modals. -->
<div *ngIf="stateService.modalOpen" id="app-modal-overlay"
	(mousedown)="closeModal($event)" @delayedFadeAnimation #modalOverlay>

	<hyperpass-tags-modal *ngIf="stateService.modalType === 'Tags'"></hyperpass-tags-modal>
	<hyperpass-vault-entry-history-modal *ngIf="stateService.modalType === 'Vault Entry History'"></hyperpass-vault-entry-history-modal>
	<hyperpass-vault-history-modal *ngIf="stateService.modalType === 'Vault History'"></hyperpass-vault-history-modal>

</div>
