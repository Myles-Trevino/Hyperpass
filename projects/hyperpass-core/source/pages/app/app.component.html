<!--
	Copyright Myles Trevino
	Licensed under the Apache License, Version 2.0
	http://www.apache.org/licenses/LICENSE-2.0
-->


<!-- Loading overlay. -->
<div *ngIf="tab === 'None'" class="overlay">
	<ion-spinner name="crescent"></ion-spinner>
</div>


<!-- Tile. -->
<div *ngIf="tab !== 'None'" id="app-tile" class="tile" @delayedFadeInAnimation>

	<!-- Tabs. -->
	<div id="app-tabs">
		<h4 [ngClass]="{selected: tab =='Vault'}" (click)="setIonSlide(0)">Vault</h4>
		<h4 [ngClass]="{selected: tab =='Generator'}" (click)="setIonSlide(1)">Generator</h4>
		<h4 [ngClass]="{selected: tab =='Options'}" (click)="setIonSlide(2)">Options</h4>
	</div>

	<!-- Pages. -->
	<ion-slides class="tile-content" [options]="{allowTouchMove: enableSwiping}" (ionSlideWillChange)="ionSlidesCallback()" #ionSlides>

		<!-- Vault. -->
		<ion-slide>
			<router-outlet name="vault"></router-outlet>
		</ion-slide>

		<!-- Generator. -->
		<ion-slide>
			<hyperpass-generator></hyperpass-generator>
		</ion-slide>

		<!-- Options. -->
		<ion-slide>
			<router-outlet name="options"></router-outlet>
		</ion-slide>

	</ion-slides>

</div>


<!-- Modals. -->
<div *ngIf="stateService.modalOpen" id="app-modal-overlay"
	(mousedown)="closeModal($event)" @fadeAnimation #modalOverlay>

	<hyperpass-tags-modal *ngIf="stateService.modalType === 'Tags'"></hyperpass-tags-modal>
	<hyperpass-vault-entry-history-modal *ngIf="stateService.modalType === 'Vault Entry History'"></hyperpass-vault-entry-history-modal>
	<hyperpass-vault-history-modal *ngIf="stateService.modalType === 'Vault History'"></hyperpass-vault-history-modal>

</div>
