<!--
	Copyright Myles Trevino
	Licensed under the Apache License, Version 2.0
	http://www.apache.org/licenses/LICENSE-2.0
-->


<ng-scrollbar #mainScrollbar>
<div class="app-page tile-section">


<!-- Top bar. -->
<div id="generator-top-bar" class="tile-content">

	<input class="password-input" type="text" readonly [value]="password">

	<div class="tile-buttons">
		<button [cdkCopyToClipboard]="password" (click)="sendCopiedMessage()">Copy</button>
		<button (click)="generate()">Generate</button>
	</div>

</div>


<!-- Content. -->
<div id="generator-content">

	<!-- Options. -->
	<div id="generator-options" class="tile-content">

		<!-- Title. -->
		<div class="tile-section">
			<h4>Options</h4>
		</div>

		<!-- Scrollable content. -->
		<ng-scrollbar #optionsScrollbar>

			<!-- Type. -->
			<div class="tile-setting">
				<span>Mode</span>
				<hyperpass-dropdown [options]="types.generatorModes" [(selectedOption)]="state.mode"></hyperpass-dropdown>
			</div>

			<div *ngIf="state.mode === 'Passphrase' then passphraseSettings else passwordSettings"></div>

			<!-- Passphrase settings. -->
			<ng-template #passphraseSettings>

				<!-- Words. -->
				<div class="tile-setting">
					<span>Words</span>
					<input type="text" spellcheck="false" autocomplete="off" [(ngModel)]="state.wordCount">
				</div>

				<!-- Numbers. -->
				<div class="tile-setting">
					<span>Numbers</span>
					<input type="text" spellcheck="false" autocomplete="off" [(ngModel)]="state.numberCount">
				</div>

				<!-- Separator. -->
				<div class="tile-setting">
					<span>Separator</span>
					<input type="text" spellcheck="false" autocomplete="off" [(ngModel)]="state.separator">
				</div>

				<!-- Capitalize. -->
				<div class="tile-setting">
					<span>Capitalize</span>
					<hyperpass-switch [(state)]="state.capitalize"></hyperpass-switch>
				</div>

			</ng-template>

			<!-- Password settings. -->
			<ng-template #passwordSettings>

				<!-- Length. -->
				<div class="tile-setting">
					<span>Length</span>
					<input type="text" spellcheck="false" autocomplete="off" [(ngModel)]="state.length">
				</div>

				<!-- Use special characters. -->
				<div class="tile-setting">
					<span>Special</span>
					<hyperpass-switch [(state)]="state.useSpecialCharacters"></hyperpass-switch>
				</div>

				<!-- Use numbers. -->
				<div class="tile-setting">
					<span>Numbers</span>
					<hyperpass-switch [(state)]="state.useNumbers"></hyperpass-switch>
				</div>

				<!-- Use capitals. -->
				<div class="tile-setting">
					<span>Capitals</span>
					<hyperpass-switch [(state)]="state.useCapitals"></hyperpass-switch>
				</div>

			</ng-template>

		</ng-scrollbar>

	</div>

	<!-- History. -->
	<div id="generator-history" class="tile-content">

		<!-- Title. -->
		<div class="tile-section">
			<h4>History</h4>
			<button (click)="clearHistory()">Clear</button>
		</div>

		<!-- Scrollable content. -->
		<ng-scrollbar id="history-container" #historyScrollbar>

			<!-- Entries. -->
			<div *ngFor="let entry of state.history; index as index" class="tile-section hoverable-container">

				<div>
					<span class="dimmed-text">{{utilityService.dateToString(entry.date)}}</span>
					<input class="password-input" type="text" readonly value="{{entry.password}}">
				</div>

				<div [ngClass]="{'horizontal-container': true, 'hoverable-content': !platformService.isMobile}">
					<hyperpass-svg svg="Copy Button" [cdkCopyToClipboard]="entry.password" (click)="sendCopiedMessage()"></hyperpass-svg>

					<hyperpass-svg svg="Delete Button" (click)="deleteHistoryEntry(index)"></hyperpass-svg>
				</div>

			</div>

			<!-- No history overlay. -->
			<div *ngIf="state.history.length < 1" class="overlay">
				<span>No History</span>
			</div>

		</ng-scrollbar>

	</div>

</div>

</div>
</ng-scrollbar>
